<command-bar>

  @if (isHandsetPortrait()) {

    <ng-container>

      <button matIconButton
              aria-label="Save Contact button"
              class="md-command-bar-button"
              (click)="onSave()"
              [disabled]="!isDirty() || !isValid()">
        <mat-icon class="material-icons"> save </mat-icon>
      </button>

      <button matIconButton
              aria-label="Save and Close Contact button"
              class="md-command-bar-button"
              (click)="onSaveAndClose()"
              [disabled]="!isDirty() || !isValid()">
        <mat-icon class="material-icons"> arrow_back </mat-icon>
      </button>

    </ng-container>

  } @else {

    <ng-container>

      <button matButton="filled"
              aria-label="Save Contact button"
              class="md-command-bar-button"
              (click)="onSave()"
              [disabled]="!isDirty() || !isValid()">
        <mat-icon class="material-icons"> save </mat-icon>
        SAVE
      </button>

      <button matButton="filled"
              aria-label="Save and Close Contact button"
              class="md-command-bar-button"
              (click)="onSaveAndClose()"
              [disabled]="!isDirty() || !isValid()">
        <mat-icon class="material-icons"> arrow_back </mat-icon>
        SAVE & CLOSE
      </button>

    </ng-container>

  }

  <span class="md-command-bar-spacer"></span>

  <button matIconButton
          aria-label="Close button"
          (click)="onClose()">
    <mat-icon class="material-icons"> clear </mat-icon>
  </button>

</command-bar>

<activity-bar>

  @if (item) {

    <span class="md-font-headline-lg" aria-label="Activity Bar Title">
      Contact Wizard
    </span>

  }

</activity-bar>

<div class="md-content-container">

  @if (nameFormGroup && addressFormGroup && contactDetailsFormGroup) {

    <div class="md-vertical-stepper-container">

      <mat-stepper #stepper orientation="horizontal" linear="true">

        <ng-template matStepperIcon="edit" let-index="index"> {{index + 1}} </ng-template>
        <ng-template matStepperIcon="done" let-index="index"> {{index + 1}} </ng-template>

        <mat-step [stepControl]="nameFormGroup">
          <ng-template matStepLabel>
            Name
          </ng-template>
          <dynamic-form autocomplete="off"
                        className="md-grid-3-column-layout-container"
                        [formGroup]="nameFormGroup"
                        [model]="nameFormModel"
                        (customEvent)="onCustomEvent($event)">
          </dynamic-form>
        </mat-step>

        <mat-step [stepControl]="addressFormGroup">
          <ng-template matStepLabel>
            Address
          </ng-template>
          <dynamic-form autocomplete="off"
                        className="md-grid-3-column-layout-container"
                        [formGroup]="addressFormGroup"
                        [model]="addressFormModel"
                        (customEvent)="onCustomEvent($event)">
          </dynamic-form>
        </mat-step>

        <mat-step [stepControl]="contactDetailsFormGroup">
          <ng-template matStepLabel>
            Contact Details
          </ng-template>
          <dynamic-form autocomplete="off"
                        className="md-grid-3-column-layout-container"
                        [formGroup]="contactDetailsFormGroup"
                        [model]="contactDetailsFormModel"
                        (customEvent)="onCustomEvent($event)">
          </dynamic-form>
        </mat-step>

      </mat-stepper>

    </div>

  }

</div>
