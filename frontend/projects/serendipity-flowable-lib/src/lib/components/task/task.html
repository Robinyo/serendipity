<!-- Task Header -->

@if (task) {

  <span class="md-font-headline-md md-font-bold-weight task-name" aria-label="Task Name">
    {{ task.name }} <br>
  </span>

  @if (process) {

    <ng-container>
      <mat-icon class="material-symbols-outlined process-name-icon"> arrow_forward </mat-icon>
      <span class="md-font-headline-sm process-name" aria-label="Process Name">
        {{ process.name }}
      </span>
    </ng-container>

  }

}

<!-- Action Bar -->

<action-bar>

  <span class="md-bar-spacer"></span>

  <button matButton="filled"
          aria-label="Claim button"
          class="md-action-bar-button"
          (click)="onClaim()"
          [disabled]="true">
    CLAIM
  </button>

  <button matButton="filled"
          aria-label="Complete button"
          class="md-action-bar-button"
          (click)="onComplete()"
          [disabled]="true">
    COMPLETE
  </button>

</action-bar>

<!-- Task Content -->

<div>

  <mat-tab-group (selectedTabChange)="onTabChanged($event)">

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="material-symbols-outlined md-tab-icon"> assignment_ind </mat-icon>
        <span>
          Task
        </span>
      </ng-template>

      @if (formGroup) {

        <div class="md-task-container">

          <dynamic-form autocomplete="off"
                        className="md-grid-3-column-layout-container"
                        [formGroup]="formGroup"
                        [model]="formModel">
          </dynamic-form>

          <!--
          <p>
            Form Value: {{ formGroup.value | json }}
          </p>
          -->

        </div>

      }

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="material-symbols-outlined md-tab-icon"> people_outline </mat-icon>
        <span>
          People
        </span>
      </ng-template>

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="material-symbols-outlined md-tab-icon"> list </mat-icon>
        <span>
          Subtasks
        </span>
      </ng-template>

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="material-symbols-outlined md-tab-icon"> attachment </mat-icon>
        <span>
          Documents
        </span>
      </ng-template>

    </mat-tab>

    <mat-tab>

      <ng-template mat-tab-label>
        <mat-icon class="material-symbols-outlined md-tab-icon"> history </mat-icon>
        <span>
          History
        </span>
      </ng-template>

    </mat-tab>


  </mat-tab-group>

</div>





